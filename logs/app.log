{"@timestamp":"2025-08-13T22:17:26.5456995+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up..."}
{"@timestamp":"2025-08-13T22:17:26.7873031+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Router ready"}
{"@timestamp":"2025-08-13T22:17:26.8349704+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Pipeline ready"}
{"@timestamp":"2025-08-13T22:17:26.8391055+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up pipeline... done"}
{"@timestamp":"2025-08-13T22:17:26.8458132+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watching started..."}
{"@timestamp":"2025-08-13T22:17:58.4250531+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:17:58.7297561+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:17:59.0530534+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_12345_20250808140045.zip","file":"Rest_12345_20250808140045.zip","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:17:59.0540998+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_12345_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_12345_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:17:59.0540998+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_12345_20250808140045.zip","file":"Rest_12345_20250808140045.zip","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:17:59.2096805+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":155,"branchId":"12345","file":"Rest_12345_20250808140045.zip","envType":"REST","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:17:59.3669504+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_12345_20250808140005.zip","file":"goods_12345_20250808140005.zip","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:17:59.3669504+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_12345_20250808140005.zip","file":"goods_12345_20250808140005.zip","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:17:59.3999388+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":32,"branchId":"12345","file":"goods_12345_20250808140005.zip","envType":"GOODS","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:18:00.2672547+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (1017 ms),bodyLen: 905","idemKey":"a4a72b63-ec7f-4be6-8adc-e79306eeac04","branchId":"12345","endpoint":"http://testsand.duckdns.org:8080/mock/api/1702979/my_function/fun_run_post","file":"Rest_12345_20250808140045.zip","envType":"REST","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:18:00.2970847+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (19 ms),bodyLen: 1963","idemKey":"0607eff5-36cf-4d1c-9921-b27f21d17235","branchId":"12345","endpoint":"http://testsand.duckdns.org:8080/mock/api/1702979/my_function/fun_run_post","file":"goods_12345_20250808140005.zip","envType":"GOODS","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:18:13.0497275+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watcher closed"}
{"@timestamp":"2025-08-13T22:18:13.0497275+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"shutdown-hook","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T22:18:13.0511314+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"main","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T22:19:57.6865765+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up..."}
{"@timestamp":"2025-08-13T22:19:57.915874+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Router ready"}
{"@timestamp":"2025-08-13T22:19:57.9608193+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Pipeline ready"}
{"@timestamp":"2025-08-13T22:19:57.9628391+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up pipeline... done"}
{"@timestamp":"2025-08-13T22:19:57.9669073+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watching started..."}
{"@timestamp":"2025-08-13T22:20:12.2397242+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:20:12.5542223+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_12345_20250808140045.zip","file":"Rest_12345_20250808140045.zip","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:20:12.5552682+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_12345_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_12345_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:20:12.5552682+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_12345_20250808140045.zip","file":"Rest_12345_20250808140045.zip","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:20:12.6899591+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":134,"branchId":"12345","file":"Rest_12345_20250808140045.zip","envType":"REST","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:20:12.8618315+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_12345_20250808140005.zip","file":"goods_12345_20250808140005.zip","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:20:12.8630533+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_12345_20250808140005.zip","file":"goods_12345_20250808140005.zip","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:20:12.8767082+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":13,"branchId":"12345","file":"goods_12345_20250808140005.zip","envType":"GOODS","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:20:15.9442657+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"12345","file":"Rest_12345_20250808140045.zip","envType":"REST","reqId":"Rest_12345_20250808140045.zip-1754665575125-769","stack_trace":"java.lang.IllegalStateException: HTTP 404 from http://localhost:8082/v1/api/robot/rests: {\r\n  \"Resource Endpoints\" : [ {\r\n    \"uri\" : \"/mapper/v1/api/robot/nom\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/robot/rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/Prices\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/ActivePrograms\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/auth\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/check-envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/nomenklature\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points2\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/reset-points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/shops\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/acceptedCancelledOrdersByCustomer\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/newStatus\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/{branchId}/0\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrdersByCustomer/{branchId}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/OrdersByDate/{branchID}/{dateStr}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Branch\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Points\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Ref/{branchId}\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  } ],\r\n  \"Additional endpoints\" : [ {\r\n    \"uri\" : \"http://localhost:8082/mapper/openapi\",\r\n    \"description\" : \"Open API Schema document\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc\",\r\n    \"description\" : \"CDI Overview\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/beans\",\r\n    \"description\" : \"Active CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/observers\",\r\n    \"description\" : \"Active CDI Observers\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/removed-beans\",\r\n    \"description\" : \"Removed CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/dev-ui\",\r\n    \"description\" : \"Dev UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health\",\r\n    \"description\" : \"Health Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health-ui\",\r\n    \"description\" : \"Health UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group/*\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/live\",\r\n    \"description\" : \"Health Liveness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/ready\",\r\n    \"description\" : \"Health Readiness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/started\",\r\n    \"description\" : \"Health Started Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/well\",\r\n    \"description\" : \"Health Wellness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/metrics\",\r\n    \"description\" : \"Metrics\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/swagger-ui\",\r\n    \"description\" : \"Open API UI\"\r\n  } ]\r\n}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:83)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:20:16.8953848+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"12345","file":"goods_12345_20250808140005.zip","envType":"GOODS","reqId":"goods_12345_20250808140005.zip-1754665583192-872","stack_trace":"java.lang.IllegalStateException: HTTP 404 from http://localhost:8082/v1/api/robot/nom: {\r\n  \"Resource Endpoints\" : [ {\r\n    \"uri\" : \"/mapper/v1/api/robot/nom\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/robot/rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/Prices\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/ActivePrograms\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/auth\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/check-envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/nomenklature\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points2\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/reset-points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/shops\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/acceptedCancelledOrdersByCustomer\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/newStatus\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/{branchId}/0\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrdersByCustomer/{branchId}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/OrdersByDate/{branchID}/{dateStr}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Branch\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Points\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Ref/{branchId}\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  } ],\r\n  \"Additional endpoints\" : [ {\r\n    \"uri\" : \"http://localhost:8082/mapper/openapi\",\r\n    \"description\" : \"Open API Schema document\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc\",\r\n    \"description\" : \"CDI Overview\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/beans\",\r\n    \"description\" : \"Active CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/observers\",\r\n    \"description\" : \"Active CDI Observers\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/removed-beans\",\r\n    \"description\" : \"Removed CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/dev-ui\",\r\n    \"description\" : \"Dev UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health\",\r\n    \"description\" : \"Health Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health-ui\",\r\n    \"description\" : \"Health UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group/*\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/live\",\r\n    \"description\" : \"Health Liveness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/ready\",\r\n    \"description\" : \"Health Readiness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/started\",\r\n    \"description\" : \"Health Started Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/well\",\r\n    \"description\" : \"Health Wellness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/metrics\",\r\n    \"description\" : \"Metrics\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/swagger-ui\",\r\n    \"description\" : \"Open API UI\"\r\n  } ]\r\n}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:83)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:20:38.3068713+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:20:38.6159463+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:20:38.9292884+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_12345_20250808140045.zip","file":"Rest_12345_20250808140045.zip","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:20:38.9292884+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_12345_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_12345_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:20:38.9292884+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_12345_20250808140045.zip","file":"Rest_12345_20250808140045.zip","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:20:38.9398543+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":9,"branchId":"12345","file":"Rest_12345_20250808140045.zip","envType":"REST","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:20:39.2423415+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_12345_20250808140005.zip","file":"goods_12345_20250808140005.zip","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:20:39.2433735+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_12345_20250808140005.zip","file":"goods_12345_20250808140005.zip","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:20:39.2494976+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":6,"branchId":"12345","file":"goods_12345_20250808140005.zip","envType":"GOODS","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:20:39.8863085+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"12345","file":"Rest_12345_20250808140045.zip","envType":"REST","reqId":"Rest_12345_20250808140045.zip-1754665575125-769","stack_trace":"java.lang.IllegalStateException: HTTP 404 from http://localhost:8082/v1/api/robot/rests: {\r\n  \"Resource Endpoints\" : [ {\r\n    \"uri\" : \"/mapper/v1/api/robot/nom\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/robot/rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/Prices\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/ActivePrograms\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/auth\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/check-envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/nomenklature\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points2\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/reset-points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/shops\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/acceptedCancelledOrdersByCustomer\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/newStatus\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/{branchId}/0\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrdersByCustomer/{branchId}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/OrdersByDate/{branchID}/{dateStr}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Branch\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Points\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Ref/{branchId}\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  } ],\r\n  \"Additional endpoints\" : [ {\r\n    \"uri\" : \"http://localhost:8082/mapper/openapi\",\r\n    \"description\" : \"Open API Schema document\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc\",\r\n    \"description\" : \"CDI Overview\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/beans\",\r\n    \"description\" : \"Active CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/observers\",\r\n    \"description\" : \"Active CDI Observers\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/removed-beans\",\r\n    \"description\" : \"Removed CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/dev-ui\",\r\n    \"description\" : \"Dev UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health\",\r\n    \"description\" : \"Health Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health-ui\",\r\n    \"description\" : \"Health UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group/*\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/live\",\r\n    \"description\" : \"Health Liveness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/ready\",\r\n    \"description\" : \"Health Readiness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/started\",\r\n    \"description\" : \"Health Started Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/well\",\r\n    \"description\" : \"Health Wellness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/metrics\",\r\n    \"description\" : \"Metrics\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/swagger-ui\",\r\n    \"description\" : \"Open API UI\"\r\n  } ]\r\n}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:83)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:20:40.8186078+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"12345","file":"goods_12345_20250808140005.zip","envType":"GOODS","reqId":"goods_12345_20250808140005.zip-1754665583192-872","stack_trace":"java.lang.IllegalStateException: HTTP 404 from http://localhost:8082/v1/api/robot/nom: {\r\n  \"Resource Endpoints\" : [ {\r\n    \"uri\" : \"/mapper/v1/api/robot/nom\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/robot/rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/Prices\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/ActivePrograms\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/auth\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/check-envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/nomenklature\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points2\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/reset-points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/shops\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/acceptedCancelledOrdersByCustomer\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/newStatus\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/{branchId}/0\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrdersByCustomer/{branchId}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/OrdersByDate/{branchID}/{dateStr}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Branch\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Points\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Ref/{branchId}\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  } ],\r\n  \"Additional endpoints\" : [ {\r\n    \"uri\" : \"http://localhost:8082/mapper/openapi\",\r\n    \"description\" : \"Open API Schema document\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc\",\r\n    \"description\" : \"CDI Overview\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/beans\",\r\n    \"description\" : \"Active CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/observers\",\r\n    \"description\" : \"Active CDI Observers\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/removed-beans\",\r\n    \"description\" : \"Removed CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/dev-ui\",\r\n    \"description\" : \"Dev UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health\",\r\n    \"description\" : \"Health Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health-ui\",\r\n    \"description\" : \"Health UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group/*\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/live\",\r\n    \"description\" : \"Health Liveness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/ready\",\r\n    \"description\" : \"Health Readiness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/started\",\r\n    \"description\" : \"Health Started Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/well\",\r\n    \"description\" : \"Health Wellness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/metrics\",\r\n    \"description\" : \"Metrics\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/swagger-ui\",\r\n    \"description\" : \"Open API UI\"\r\n  } ]\r\n}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:83)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:21:42.4191145+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:21:42.7204935+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:21:43.0231372+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_12345_20250808140045.zip","file":"Rest_12345_20250808140045.zip","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:21:43.0231372+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_12345_20250808140045.zip","file":"Rest_12345_20250808140045.zip","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:21:43.0231372+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_12345_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_12345_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:21:43.0283611+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":5,"branchId":"12345","file":"Rest_12345_20250808140045.zip","envType":"REST","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:21:43.3256117+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_12345_20250808140005.zip","file":"goods_12345_20250808140005.zip","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:21:43.3266476+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_12345_20250808140005.zip","file":"goods_12345_20250808140005.zip","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:21:43.3372485+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":10,"branchId":"12345","file":"goods_12345_20250808140005.zip","envType":"GOODS","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:21:43.9668731+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"12345","file":"Rest_12345_20250808140045.zip","envType":"REST","reqId":"Rest_12345_20250808140045.zip-1754665575125-769","stack_trace":"java.lang.IllegalStateException: HTTP 404 from http://localhost:8082/v1/api/robot/rests: {\r\n  \"Resource Endpoints\" : [ {\r\n    \"uri\" : \"/mapper/v1/api/robot/nom\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/robot/rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/Prices\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/ActivePrograms\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/auth\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/check-envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/nomenklature\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points2\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/reset-points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/shops\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/acceptedCancelledOrdersByCustomer\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/newStatus\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/{branchId}/0\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrdersByCustomer/{branchId}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/OrdersByDate/{branchID}/{dateStr}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Branch\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Points\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Ref/{branchId}\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  } ],\r\n  \"Additional endpoints\" : [ {\r\n    \"uri\" : \"http://localhost:8082/mapper/openapi\",\r\n    \"description\" : \"Open API Schema document\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc\",\r\n    \"description\" : \"CDI Overview\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/beans\",\r\n    \"description\" : \"Active CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/observers\",\r\n    \"description\" : \"Active CDI Observers\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/removed-beans\",\r\n    \"description\" : \"Removed CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/dev-ui\",\r\n    \"description\" : \"Dev UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health\",\r\n    \"description\" : \"Health Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health-ui\",\r\n    \"description\" : \"Health UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group/*\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/live\",\r\n    \"description\" : \"Health Liveness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/ready\",\r\n    \"description\" : \"Health Readiness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/started\",\r\n    \"description\" : \"Health Started Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/well\",\r\n    \"description\" : \"Health Wellness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/metrics\",\r\n    \"description\" : \"Metrics\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/swagger-ui\",\r\n    \"description\" : \"Open API UI\"\r\n  } ]\r\n}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:83)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:21:44.9035295+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"12345","file":"goods_12345_20250808140005.zip","envType":"GOODS","reqId":"goods_12345_20250808140005.zip-1754665583192-872","stack_trace":"java.lang.IllegalStateException: HTTP 404 from http://localhost:8082/v1/api/robot/nom: {\r\n  \"Resource Endpoints\" : [ {\r\n    \"uri\" : \"/mapper/v1/api/robot/nom\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/robot/rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/Prices\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/ActivePrograms\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/auth\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/check-envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/nomenklature\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points2\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/reset-points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/shops\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/acceptedCancelledOrdersByCustomer\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/newStatus\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/{branchId}/0\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrdersByCustomer/{branchId}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/OrdersByDate/{branchID}/{dateStr}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Branch\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Points\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Ref/{branchId}\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  } ],\r\n  \"Additional endpoints\" : [ {\r\n    \"uri\" : \"http://localhost:8082/mapper/openapi\",\r\n    \"description\" : \"Open API Schema document\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc\",\r\n    \"description\" : \"CDI Overview\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/beans\",\r\n    \"description\" : \"Active CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/observers\",\r\n    \"description\" : \"Active CDI Observers\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/removed-beans\",\r\n    \"description\" : \"Removed CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/dev-ui\",\r\n    \"description\" : \"Dev UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health\",\r\n    \"description\" : \"Health Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health-ui\",\r\n    \"description\" : \"Health UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group/*\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/live\",\r\n    \"description\" : \"Health Liveness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/ready\",\r\n    \"description\" : \"Health Readiness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/started\",\r\n    \"description\" : \"Health Started Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/well\",\r\n    \"description\" : \"Health Wellness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/metrics\",\r\n    \"description\" : \"Metrics\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/swagger-ui\",\r\n    \"description\" : \"Open API UI\"\r\n  } ]\r\n}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:83)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:21:58.3779091+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:21:58.6898723+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:21:59.0050138+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_12345_20250808140045.zip","file":"Rest_12345_20250808140045.zip","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:21:59.0050138+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_12345_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_12345_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:21:59.0050138+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_12345_20250808140045.zip","file":"Rest_12345_20250808140045.zip","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:21:59.0152357+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":9,"branchId":"12345","file":"Rest_12345_20250808140045.zip","envType":"REST","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:21:59.3168944+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_12345_20250808140005.zip","file":"goods_12345_20250808140005.zip","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:21:59.3168944+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_12345_20250808140005.zip","file":"goods_12345_20250808140005.zip","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:21:59.3273793+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":9,"branchId":"12345","file":"goods_12345_20250808140005.zip","envType":"GOODS","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:21:59.9689745+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"12345","file":"Rest_12345_20250808140045.zip","envType":"REST","reqId":"Rest_12345_20250808140045.zip-1754665575125-769","stack_trace":"java.lang.IllegalStateException: HTTP 404 from http://localhost:8082/v1/api/robot/rests: {\r\n  \"Resource Endpoints\" : [ {\r\n    \"uri\" : \"/mapper/v1/api/robot/nom\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/robot/rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/Prices\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/ActivePrograms\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/auth\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/check-envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/nomenklature\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points2\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/reset-points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/shops\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/acceptedCancelledOrdersByCustomer\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/newStatus\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/{branchId}/0\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrdersByCustomer/{branchId}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/OrdersByDate/{branchID}/{dateStr}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Branch\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Points\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Ref/{branchId}\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  } ],\r\n  \"Additional endpoints\" : [ {\r\n    \"uri\" : \"http://localhost:8082/mapper/openapi\",\r\n    \"description\" : \"Open API Schema document\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc\",\r\n    \"description\" : \"CDI Overview\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/beans\",\r\n    \"description\" : \"Active CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/observers\",\r\n    \"description\" : \"Active CDI Observers\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/removed-beans\",\r\n    \"description\" : \"Removed CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/dev-ui\",\r\n    \"description\" : \"Dev UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health\",\r\n    \"description\" : \"Health Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health-ui\",\r\n    \"description\" : \"Health UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group/*\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/live\",\r\n    \"description\" : \"Health Liveness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/ready\",\r\n    \"description\" : \"Health Readiness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/started\",\r\n    \"description\" : \"Health Started Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/well\",\r\n    \"description\" : \"Health Wellness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/metrics\",\r\n    \"description\" : \"Metrics\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/swagger-ui\",\r\n    \"description\" : \"Open API UI\"\r\n  } ]\r\n}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:83)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:22:00.917984+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"12345","file":"goods_12345_20250808140005.zip","envType":"GOODS","reqId":"goods_12345_20250808140005.zip-1754665583192-872","stack_trace":"java.lang.IllegalStateException: HTTP 404 from http://localhost:8082/v1/api/robot/nom: {\r\n  \"Resource Endpoints\" : [ {\r\n    \"uri\" : \"/mapper/v1/api/robot/nom\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/robot/rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/Prices\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/SocialPrograms/ActivePrograms\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/auth\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/check-envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/envelopes\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/nomenklature\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/points2\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/reset-points\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/admin/shops\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/acceptedCancelledOrdersByCustomer\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrders\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/newStatus\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/{branchId}/0\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/Orders/cancelledOrdersByCustomer/{branchId}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/OrdersByDate/{branchID}/{dateStr}\",\r\n    \"description\" : \"GET (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Branch\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Points\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Ref/{branchId}\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  }, {\r\n    \"uri\" : \"/mapper/v1/api/import/Rests\",\r\n    \"description\" : \"POST (consumes: application/json) (produces:application/json)\"\r\n  } ],\r\n  \"Additional endpoints\" : [ {\r\n    \"uri\" : \"http://localhost:8082/mapper/openapi\",\r\n    \"description\" : \"Open API Schema document\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc\",\r\n    \"description\" : \"CDI Overview\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/beans\",\r\n    \"description\" : \"Active CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/observers\",\r\n    \"description\" : \"Active CDI Observers\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/arc/removed-beans\",\r\n    \"description\" : \"Removed CDI Beans\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/dev-ui\",\r\n    \"description\" : \"Dev UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health\",\r\n    \"description\" : \"Health Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health-ui\",\r\n    \"description\" : \"Health UI\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/group/*\",\r\n    \"description\" : \"Health Group Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/live\",\r\n    \"description\" : \"Health Liveness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/ready\",\r\n    \"description\" : \"Health Readiness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/started\",\r\n    \"description\" : \"Health Started Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/health/well\",\r\n    \"description\" : \"Health Wellness Check\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/q/metrics\",\r\n    \"description\" : \"Metrics\"\r\n  }, {\r\n    \"uri\" : \"http://localhost:8082/mapper/swagger-ui\",\r\n    \"description\" : \"Open API UI\"\r\n  } ]\r\n}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:83)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:26:25.9867439+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watcher closed"}
{"@timestamp":"2025-08-13T22:26:25.9867439+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"shutdown-hook","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T22:26:25.9867439+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"main","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T22:26:31.4434524+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up..."}
{"@timestamp":"2025-08-13T22:26:31.6851397+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Router ready"}
{"@timestamp":"2025-08-13T22:26:31.7409824+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Pipeline ready"}
{"@timestamp":"2025-08-13T22:26:31.7439806+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up pipeline... done"}
{"@timestamp":"2025-08-13T22:26:31.7479778+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watching started..."}
{"@timestamp":"2025-08-13T22:26:45.77957+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:26:46.0978491+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_12345_20250808140045.zip","file":"Rest_12345_20250808140045.zip","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:26:46.0988985+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_12345_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_12345_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:26:46.0988985+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_12345_20250808140045.zip","file":"Rest_12345_20250808140045.zip","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:26:46.2376172+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":138,"branchId":"12345","file":"Rest_12345_20250808140045.zip","envType":"REST","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:26:46.3996694+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_12345_20250808140005.zip","file":"goods_12345_20250808140005.zip","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:26:46.4007745+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_12345_20250808140005.zip","file":"goods_12345_20250808140005.zip","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:26:46.4131536+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":13,"branchId":"12345","file":"goods_12345_20250808140005.zip","envType":"GOODS","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:26:47.3418661+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"12345","file":"Rest_12345_20250808140045.zip","envType":"REST","reqId":"Rest_12345_20250808140045.zip-1754665575125-769","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-3, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:66\\n\\t  64  \\n\\t  65      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t 66          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  67          return Uni.createFrom().item(goods)\\n\\t  68                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:66)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$10.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:88)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:26:48.3272315+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"12345","file":"goods_12345_20250808140005.zip","envType":"GOODS","reqId":"goods_12345_20250808140005.zip-1754665583192-872","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-6, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:43\\n\\t  41  \\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t 43          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  44          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  45          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:43)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$9.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:88)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:29:36.9998151+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_12345_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:29:37.3165642+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_12345_20250808140045.zip","file":"Rest_12345_20250808140045.zip","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:29:37.3175635+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_12345_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_12345_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:29:37.3175635+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_12345_20250808140045.zip","file":"Rest_12345_20250808140045.zip","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:29:37.326938+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":9,"branchId":"12345","file":"Rest_12345_20250808140045.zip","envType":"REST","reqId":"Rest_12345_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:29:37.6288399+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_12345_20250808140005.zip","file":"goods_12345_20250808140005.zip","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:29:37.6288399+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_12345_20250808140005.zip","file":"goods_12345_20250808140005.zip","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:29:37.6403953+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":10,"branchId":"12345","file":"goods_12345_20250808140005.zip","envType":"GOODS","reqId":"goods_12345_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:29:38.3107633+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"12345","file":"Rest_12345_20250808140045.zip","envType":"REST","reqId":"Rest_12345_20250808140045.zip-1754665575125-769","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-9, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:88)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:29:39.275258+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"12345","file":"goods_12345_20250808140005.zip","envType":"GOODS","reqId":"goods_12345_20250808140005.zip-1754665583192-872","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-12, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:88)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:31:21.610214+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:31:21.926127+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:31:21.926127+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:31:21.926127+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:31:21.9365977+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":9,"branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:31:22.2391424+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:31:22.2391424+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:31:22.2486398+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":9,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:31:22.9046939+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-15, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:88)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:31:23.8684655+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-18, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:88)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:32:25.8052791+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watcher closed"}
{"@timestamp":"2025-08-13T22:32:25.8052791+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"shutdown-hook","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T22:32:25.8052791+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"main","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T22:32:30.8692999+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up..."}
{"@timestamp":"2025-08-13T22:32:31.0968252+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Router ready"}
{"@timestamp":"2025-08-13T22:32:31.132138+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Pipeline ready"}
{"@timestamp":"2025-08-13T22:32:31.1341375+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up pipeline... done"}
{"@timestamp":"2025-08-13T22:32:31.138657+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watching started..."}
{"@timestamp":"2025-08-13T22:32:39.37817+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:32:39.7021066+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:32:39.7021066+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:32:39.7035507+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:32:39.8329424+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":130,"branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:32:39.9876877+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (106 ms),bodyLen: 4427","idemKey":"8b2f843b-0df7-4169-810c-c31bb301bf2a","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:32:40.0064228+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:32:40.0064228+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:32:40.0248097+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":18,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:32:40.3141234+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (432 ms),bodyLen: 4427","idemKey":"8b2f843b-0df7-4169-810c-c31bb301bf2a","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:32:40.9345889+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (1053 ms),bodyLen: 4427","idemKey":"8b2f843b-0df7-4169-810c-c31bb301bf2a","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:32:40.9463863+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-21, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:89)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:32:40.9899498+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (16 ms),bodyLen: 4413","idemKey":"56bb4362-ed8c-4729-bcf5-100846029dc4","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:32:41.3049149+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (331 ms),bodyLen: 4413","idemKey":"56bb4362-ed8c-4729-bcf5-100846029dc4","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:32:41.9297445+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (955 ms),bodyLen: 4413","idemKey":"56bb4362-ed8c-4729-bcf5-100846029dc4","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:32:41.9308803+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-24, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:89)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:33:12.4982866+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"shutdown-hook","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T22:33:12.4992926+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watcher closed"}
{"@timestamp":"2025-08-13T22:33:12.4992926+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"main","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T22:33:17.0645412+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up..."}
{"@timestamp":"2025-08-13T22:33:17.2980064+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Router ready"}
{"@timestamp":"2025-08-13T22:33:17.3466195+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Pipeline ready"}
{"@timestamp":"2025-08-13T22:33:17.349617+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up pipeline... done"}
{"@timestamp":"2025-08-13T22:33:17.3536158+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watching started..."}
{"@timestamp":"2025-08-13T22:33:23.2587368+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:33:23.5854454+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:33:23.5854454+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:33:23.5854454+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:33:23.7120533+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":126,"branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:33:23.8819433+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (124 ms),bodyLen: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-25, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"a8027170-aefa-4269-8de0-bd839976426e","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:33:23.8896566+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:33:23.8896566+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:33:23.9000732+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":10,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:33:24.2004268+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (442 ms),bodyLen: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-26, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"a8027170-aefa-4269-8de0-bd839976426e","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:33:24.8197946+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (1062 ms),bodyLen: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-27, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"a8027170-aefa-4269-8de0-bd839976426e","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:33:24.830263+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-27, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:89)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:33:24.8733747+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (14 ms),bodyLen: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-28, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"1de07098-ce4c-4747-97a4-45fa8ee46608","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:33:25.1925282+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (332 ms),bodyLen: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-29, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"1de07098-ce4c-4747-97a4-45fa8ee46608","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:33:25.8146547+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (954 ms),bodyLen: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-30, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"1de07098-ce4c-4747-97a4-45fa8ee46608","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:33:25.8156539+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-30, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:89)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:34:20.660431+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:34:20.9636784+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:34:21.276981+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:34:21.2780349+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:34:21.2780349+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:34:21.2859573+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":8,"branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:34:21.3208028+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (31 ms),bodyLen: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-31, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"3137af2c-752c-4bea-be1c-0fb2c2958348","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:34:21.5873108+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:34:21.5873108+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:34:21.5977351+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":10,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:34:21.6448576+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (355 ms),bodyLen: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-32, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"3137af2c-752c-4bea-be1c-0fb2c2958348","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:34:22.2688383+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (979 ms),bodyLen: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-33, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"3137af2c-752c-4bea-be1c-0fb2c2958348","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:34:22.2688383+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-33, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:89)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:34:22.2863615+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (13 ms),bodyLen: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-34, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"9c9e70ac-871c-4d15-ae9f-42511f67af1e","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:34:22.6100304+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (337 ms),bodyLen: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-35, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"9c9e70ac-871c-4d15-ae9f-42511f67af1e","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:34:23.2347907+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 500 (962 ms),bodyLen: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-36, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"9c9e70ac-871c-4d15-ae9f-42511f67af1e","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:34:23.235812+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-36, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:89)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:36:45.2135122+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watcher closed"}
{"@timestamp":"2025-08-13T22:36:45.2135122+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"shutdown-hook","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T22:36:45.2135122+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"main","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T22:36:50.3933536+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up..."}
{"@timestamp":"2025-08-13T22:36:50.6313468+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Router ready"}
{"@timestamp":"2025-08-13T22:36:50.6690396+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Pipeline ready"}
{"@timestamp":"2025-08-13T22:36:50.6721607+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up pipeline... done"}
{"@timestamp":"2025-08-13T22:36:50.6765307+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watching started..."}
{"@timestamp":"2025-08-13T22:37:07.0692763+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:37:07.3876376+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:37:07.3876376+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:37:07.3876376+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:37:07.4850125+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":97,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:37:07.6766218+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-37, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"5e5cbd19-383f-455c-8635-098073d729e1","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:37:07.6911435+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:37:07.6922351+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:37:07.7378215+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":45,"branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:37:07.9995038+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-38, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"5e5cbd19-383f-455c-8635-098073d729e1","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:37:08.622354+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-39, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"5e5cbd19-383f-455c-8635-098073d729e1","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:37:08.6333206+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-39, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$12.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:89)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:37:08.6657612+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-40, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"8b823486-85ec-4bfb-8873-a75abba39f5d","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:37:08.9845309+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-41, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"8b823486-85ec-4bfb-8873-a75abba39f5d","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:37:09.607655+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-42, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"8b823486-85ec-4bfb-8873-a75abba39f5d","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:37:09.6086533+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-42, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$13.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:89)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:39:26.9730182+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:39:27.2775623+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:39:27.2775623+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:39:27.2775623+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:39:27.2884751+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":10,"branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:39:27.3251173+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-43, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$19.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"0e978696-01c8-435d-87f9-9ad0d4492cb1","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:39:27.5876575+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:39:27.5876575+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:39:27.5982833+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":10,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:39:27.6443392+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-44, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$19.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"0e978696-01c8-435d-87f9-9ad0d4492cb1","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:39:28.2679559+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-45, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$19.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"0e978696-01c8-435d-87f9-9ad0d4492cb1","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:39:28.2679559+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-45, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$19.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:89)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:39:28.2906701+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-46, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$18.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"d4d1b737-638f-4fc4-91f3-b666aa126fa9","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:39:28.6138591+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-47, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$18.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"d4d1b737-638f-4fc4-91f3-b666aa126fa9","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:39:29.2294764+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-48, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$18.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"d4d1b737-638f-4fc4-91f3-b666aa126fa9","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:39:29.2304848+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 3 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-48, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$18.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:89)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:42:23.0369467+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watcher closed"}
{"@timestamp":"2025-08-13T22:42:23.0380252+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"main","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T22:42:23.0369467+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"shutdown-hook","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T22:42:27.9958707+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up..."}
{"@timestamp":"2025-08-13T22:42:28.2268053+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Router ready"}
{"@timestamp":"2025-08-13T22:42:28.263854+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Pipeline ready"}
{"@timestamp":"2025-08-13T22:42:28.2660158+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up pipeline... done"}
{"@timestamp":"2025-08-13T22:42:28.2705142+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watching started..."}
{"@timestamp":"2025-08-13T22:42:39.2892981+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip"}
{"@timestamp":"2025-08-13T22:42:39.6106513+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:42:39.6116491+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:42:39.6116491+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:42:39.747153+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":135,"branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:42:39.9253414+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:42:39.9264712+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:42:39.9284956+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-49, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$19.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"fc7f4878-296f-4053-972f-7860cb1f505e","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T22:42:39.9376038+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":11,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:42:39.9376038+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 1 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-49, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:68\\n\\t  66      public Uni<Response> gotRests(RestsRobot goods, String key) {\\n\\t  67          log.info(\\\"Got rests\\\");\\n\\t 68          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  69          return Uni.createFrom().item(goods)\\n\\t  70                  .onItem().transformToUni(g -> {\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotRests(RobotService.java:68)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getRests(RobotController.java:34)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$19.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getRests(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getRests_ff31cad21dfca24055cd0588f324c7387f616a0f.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:89)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:42:39.9620372+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-50, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$18.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}","idemKey":"f277ef60-713f-4915-a11e-892df7e425a6","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:42:39.9620372+03:00","app":"ftp-robot","level":"ERROR","logger_name":"edu.my.service.service.PipelineService","thread_name":"dispatch-loop","message":"send failed","branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872","stack_trace":"java.lang.IllegalStateException: HTTP 500 after 1 attempts: {\"details\":\"Error id 89bc9cfc-0629-4d7c-b8b4-3d8a29ceefcc-50, java.lang.NullPointerException: \",\"decorate\":\"Exception in RobotService.java:44\\n\\t  42      public Uni<Response> gotGoods(GoodsRobot goods, String key) {\\n\\t  43          log.info(\\\"Got goods\\\");\\n\\t 44          if (!KEY_SET.add(key)) return Uni.createFrom().item(okJson(new Result(\\\"duplicate\\\", null, key, goods.branchId(), 0)));\\n\\t  45          MDC.put(\\\"idempotencyKey\\\", key);\\n\\t  46          return Uni.createFrom().item(goods)\",\"stack\":\"java.lang.NullPointerException\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.add(ConcurrentHashMap.java:4655)\\r\\n\\tat com.example.service.robot.RobotService.gotGoods(RobotService.java:44)\\r\\n\\tat com.example.service.robot.RobotService_ClientProxy.gotGoods(Unknown Source)\\r\\n\\tat com.example.controller.RobotController.getNom(RobotController.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom$$superforward(Unknown Source)\\r\\n\\tat com.example.controller.RobotController_Subclass$$function$$18.apply(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext$NextAroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:97)\\r\\n\\tat io.quarkus.security.runtime.interceptor.SecurityHandler.handle(SecurityHandler.java:27)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor.intercept(RolesAllowedInterceptor.java:29)\\r\\n\\tat io.quarkus.security.runtime.interceptor.RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:70)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor.intercept(StandardSecurityCheckInterceptor.java:44)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.StandardSecurityCheckInterceptor_RolesAllowedInterceptor_Bean.intercept(Unknown Source)\\r\\n\\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\\r\\n\\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\\r\\n\\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\\r\\n\\tat com.example.controller.RobotController_Subclass.getNom(Unknown Source)\\r\\n\\tat com.example.controller.RobotController$quarkusrestinvoker$getNom_0cfd3ec2d674d02bb91e7991d4605384d401b312.invoke(Unknown Source)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\\r\\n\\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:92)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:89)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:270)\\r\\n\\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:252)\\r\\n\\tat io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:50)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1583)\"}\r\n\tat edu.my.service.service.HttpSenderService.send(HttpSenderService.java:89)\r\n\tat edu.my.service.service.EnvelopeSenderRouter.send(EnvelopeSenderRouter.java:21)\r\n\tat edu.my.service.service.PipelineService.lambda$startDispatcherLoop$3(PipelineService.java:107)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"@timestamp":"2025-08-13T22:47:22.1910867+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250811.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250811.zip"}
{"@timestamp":"2025-08-13T22:47:22.49872+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250811.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250811.zip"}
{"@timestamp":"2025-08-13T22:47:22.8117621+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_1412_20250811.zip","file":"Rest_1412_20250811.zip","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:47:22.8117621+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250810.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250810.zip"}
{"@timestamp":"2025-08-13T22:47:22.8117621+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_1412_20250811.zip","file":"Rest_1412_20250811.zip","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:47:22.8226324+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":10,"branchId":"1412","file":"Rest_1412_20250811.zip","envType":"REST","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:47:22.8687577+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"ignored\",\"reason\":\"unknown_branch\",\"key\":\"d904cc85-fe89-45e3-827d-80a8766c10a2\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"d904cc85-fe89-45e3-827d-80a8766c10a2","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250811.zip","envType":"REST","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:47:22.8687577+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (43 ms),bodyLen: 123","idemKey":"d904cc85-fe89-45e3-827d-80a8766c10a2","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250811.zip","envType":"REST","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:47:23.1236013+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250810.zip","file":"goods_1412_20250810.zip","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:47:23.1246273+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250810.zip","file":"goods_1412_20250810.zip","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:47:23.1246273+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250811.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250811.zip"}
{"@timestamp":"2025-08-13T22:47:23.1318744+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":7,"branchId":"1412","file":"goods_1412_20250810.zip","envType":"GOODS","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:47:23.1463234+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"ignored\",\"reason\":\"unknown_branch\",\"key\":\"37f59788-5cf5-45ff-abe9-b2561cff18cb\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"37f59788-5cf5-45ff-abe9-b2561cff18cb","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250810.zip","envType":"GOODS","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:47:23.147354+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (13 ms),bodyLen: 123","idemKey":"37f59788-5cf5-45ff-abe9-b2561cff18cb","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250810.zip","envType":"GOODS","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:47:23.4340209+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250811.zip","file":"goods_1412_20250811.zip","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:47:23.4351586+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250810.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250810.zip"}
{"@timestamp":"2025-08-13T22:47:23.4351586+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250811.zip","file":"goods_1412_20250811.zip","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:47:23.4431656+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":8,"branchId":"1412","file":"goods_1412_20250811.zip","envType":"GOODS","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:47:23.4553977+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"ignored\",\"reason\":\"unknown_branch\",\"key\":\"0efdfed7-9e41-42ee-b2d0-bda50749dfde\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"0efdfed7-9e41-42ee-b2d0-bda50749dfde","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250811.zip","envType":"GOODS","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:47:23.4553977+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (10 ms),bodyLen: 123","idemKey":"0efdfed7-9e41-42ee-b2d0-bda50749dfde","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250811.zip","envType":"GOODS","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:47:23.7460459+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_1412_20250810.zip","file":"Rest_1412_20250810.zip","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:47:23.7460459+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_1412_20250810.zip","file":"Rest_1412_20250810.zip","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:47:23.7535701+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":7,"branchId":"1412","file":"Rest_1412_20250810.zip","envType":"REST","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:47:23.7638188+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"ignored\",\"reason\":\"unknown_branch\",\"key\":\"3eb11901-90f4-4568-9352-201125349de5\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"3eb11901-90f4-4568-9352-201125349de5","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250810.zip","envType":"REST","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:47:23.7638188+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (8 ms),bodyLen: 123","idemKey":"3eb11901-90f4-4568-9352-201125349de5","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250810.zip","envType":"REST","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:47:43.9404071+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250811.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250811.zip"}
{"@timestamp":"2025-08-13T22:47:44.2424636+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250811.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250811.zip"}
{"@timestamp":"2025-08-13T22:47:44.5443243+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_1412_20250811.zip","file":"Rest_1412_20250811.zip","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:47:44.5443243+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250810.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250810.zip"}
{"@timestamp":"2025-08-13T22:47:44.5443243+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_1412_20250811.zip","file":"Rest_1412_20250811.zip","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:47:44.551842+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":6,"branchId":"1412","file":"Rest_1412_20250811.zip","envType":"REST","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:47:44.575112+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"ignored\",\"reason\":\"unknown_branch\",\"key\":\"4e8e92ab-0bdb-498d-9ee7-6076fc05a5d8\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"4e8e92ab-0bdb-498d-9ee7-6076fc05a5d8","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250811.zip","envType":"REST","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:47:44.575112+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (22 ms),bodyLen: 123","idemKey":"4e8e92ab-0bdb-498d-9ee7-6076fc05a5d8","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250811.zip","envType":"REST","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:47:44.8472552+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250810.zip","file":"goods_1412_20250810.zip","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:47:44.8472552+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250811.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250811.zip"}
{"@timestamp":"2025-08-13T22:47:44.8472552+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250810.zip","file":"goods_1412_20250810.zip","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:47:44.8537903+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":6,"branchId":"1412","file":"goods_1412_20250810.zip","envType":"GOODS","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:47:44.863627+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"ignored\",\"reason\":\"unknown_branch\",\"key\":\"68df58e4-66a0-4233-bbb9-4cd8eb18ac89\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"68df58e4-66a0-4233-bbb9-4cd8eb18ac89","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250810.zip","envType":"GOODS","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:47:44.863627+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (8 ms),bodyLen: 123","idemKey":"68df58e4-66a0-4233-bbb9-4cd8eb18ac89","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250810.zip","envType":"GOODS","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:47:45.1501528+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250811.zip","file":"goods_1412_20250811.zip","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:47:45.1512124+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250810.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250810.zip"}
{"@timestamp":"2025-08-13T22:47:45.1512124+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250811.zip","file":"goods_1412_20250811.zip","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:47:45.1595508+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":8,"branchId":"1412","file":"goods_1412_20250811.zip","envType":"GOODS","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:47:45.1699578+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"ignored\",\"reason\":\"unknown_branch\",\"key\":\"70618890-02f4-41d8-9ecc-07e0985a599f\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"70618890-02f4-41d8-9ecc-07e0985a599f","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250811.zip","envType":"GOODS","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:47:45.1699578+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (8 ms),bodyLen: 123","idemKey":"70618890-02f4-41d8-9ecc-07e0985a599f","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250811.zip","envType":"GOODS","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:47:45.453497+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_1412_20250810.zip","file":"Rest_1412_20250810.zip","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:47:45.453497+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_1412_20250810.zip","file":"Rest_1412_20250810.zip","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:47:45.4607236+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":7,"branchId":"1412","file":"Rest_1412_20250810.zip","envType":"REST","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:47:45.470136+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"ignored\",\"reason\":\"unknown_branch\",\"key\":\"b353a05e-e23d-4fe2-a519-39782a4444d2\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"b353a05e-e23d-4fe2-a519-39782a4444d2","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250810.zip","envType":"REST","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:47:45.470136+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (7 ms),bodyLen: 123","idemKey":"b353a05e-e23d-4fe2-a519-39782a4444d2","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250810.zip","envType":"REST","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:49:35.8588428+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250811.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250811.zip"}
{"@timestamp":"2025-08-13T22:49:36.1612069+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250811.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250811.zip"}
{"@timestamp":"2025-08-13T22:49:36.4741008+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_1412_20250811.zip","file":"Rest_1412_20250811.zip","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:49:36.4752178+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250810.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250810.zip"}
{"@timestamp":"2025-08-13T22:49:36.4752178+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_1412_20250811.zip","file":"Rest_1412_20250811.zip","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:49:36.4825016+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":7,"branchId":"1412","file":"Rest_1412_20250811.zip","envType":"REST","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:49:36.5217369+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"error\",\"reason\":\"internal_error\",\"key\":\"4573089f-1181-4e43-95ed-899dc92aac0d\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"4573089f-1181-4e43-95ed-899dc92aac0d","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250811.zip","envType":"REST","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:49:36.5217369+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (38 ms),bodyLen: 121","idemKey":"4573089f-1181-4e43-95ed-899dc92aac0d","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250811.zip","envType":"REST","reqId":"Rest_1412_20250811.zip-1754816736617-515"}
{"@timestamp":"2025-08-13T22:49:36.7881877+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250810.zip","file":"goods_1412_20250810.zip","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:49:36.7881877+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250811.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250811.zip"}
{"@timestamp":"2025-08-13T22:49:36.7881877+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250810.zip","file":"goods_1412_20250810.zip","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:49:36.7965729+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":7,"branchId":"1412","file":"goods_1412_20250810.zip","envType":"GOODS","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:49:36.8084393+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"error\",\"reason\":\"internal_error\",\"key\":\"ffed5270-617c-4077-950d-33e0c3b798f2\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"ffed5270-617c-4077-950d-33e0c3b798f2","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250810.zip","envType":"GOODS","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:49:36.8084393+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (10 ms),bodyLen: 121","idemKey":"ffed5270-617c-4077-950d-33e0c3b798f2","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250810.zip","envType":"GOODS","reqId":"goods_1412_20250810.zip-1754816725069-546"}
{"@timestamp":"2025-08-13T22:49:37.1002075+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250811.zip","file":"goods_1412_20250811.zip","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:49:37.1002075+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250810.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250810.zip"}
{"@timestamp":"2025-08-13T22:49:37.1012551+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250811.zip","file":"goods_1412_20250811.zip","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:49:37.1085769+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":7,"branchId":"1412","file":"goods_1412_20250811.zip","envType":"GOODS","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:49:37.1204275+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"error\",\"reason\":\"internal_error\",\"key\":\"e7a4ad6e-8fb0-4944-a4e7-7bffe6397d79\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"e7a4ad6e-8fb0-4944-a4e7-7bffe6397d79","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250811.zip","envType":"GOODS","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:49:37.1215281+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (10 ms),bodyLen: 121","idemKey":"e7a4ad6e-8fb0-4944-a4e7-7bffe6397d79","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250811.zip","envType":"GOODS","reqId":"goods_1412_20250811.zip-1754816730935-582"}
{"@timestamp":"2025-08-13T22:49:37.4107786+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_1412_20250810.zip","file":"Rest_1412_20250810.zip","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:49:37.4118022+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_1412_20250810.zip","file":"Rest_1412_20250810.zip","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:49:37.4189763+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":7,"branchId":"1412","file":"Rest_1412_20250810.zip","envType":"REST","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:49:37.4329131+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"error\",\"reason\":\"internal_error\",\"key\":\"0b4e2ff4-3f2d-4c68-9d51-bda20c5d2820\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"0b4e2ff4-3f2d-4c68-9d51-bda20c5d2820","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250810.zip","envType":"REST","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:49:37.4329131+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (12 ms),bodyLen: 121","idemKey":"0b4e2ff4-3f2d-4c68-9d51-bda20c5d2820","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250810.zip","envType":"REST","reqId":"Rest_1412_20250810.zip-1754816741337-546"}
{"@timestamp":"2025-08-13T22:50:27.0452616+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:50:27.3513238+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:50:27.6631029+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:50:27.6631029+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:50:27.6713652+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":7,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:50:27.7058439+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"error\",\"reason\":\"internal_error\",\"key\":\"f1859f3b-eccf-44bf-a950-ba41879b71cf\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"f1859f3b-eccf-44bf-a950-ba41879b71cf","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:50:27.7058439+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (33 ms),bodyLen: 121","idemKey":"f1859f3b-eccf-44bf-a950-ba41879b71cf","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:52:34.0678751+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:52:34.3758786+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:52:34.3758786+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:52:34.3852553+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":8,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:52:34.4280934+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"error\",\"reason\":\"internal_error\",\"key\":\"f04fec7b-db5a-41c1-99eb-1ac2dd8b6105\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"f04fec7b-db5a-41c1-99eb-1ac2dd8b6105","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:52:34.4280934+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (41 ms),bodyLen: 121","idemKey":"f04fec7b-db5a-41c1-99eb-1ac2dd8b6105","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:54:28.1484226+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:54:28.448943+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:54:28.7512563+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:54:28.7512563+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:54:28.760286+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":8,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:54:28.8002929+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"error\",\"reason\":\"internal_error\",\"key\":\"543c3286-2752-4742-860b-b9df4d27c76d\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"543c3286-2752-4742-860b-b9df4d27c76d","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:54:28.8002929+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (39 ms),bodyLen: 121","idemKey":"543c3286-2752-4742-860b-b9df4d27c76d","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:57:49.1744202+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:57:49.4911424+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:57:49.4911424+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:57:49.4911424+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":8,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:57:49.5391076+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: {\"status\":\"error\",\"reason\":\"internal_error\",\"key\":\"1fac55f4-66af-4c98-b040-777a5018d665\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"1fac55f4-66af-4c98-b040-777a5018d665","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:57:49.5391076+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (48 ms),bodyLen: 121","idemKey":"1fac55f4-66af-4c98-b040-777a5018d665","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:59:35.5775382+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watcher closed"}
{"@timestamp":"2025-08-13T22:59:35.5765072+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"shutdown-hook","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T22:59:35.5775382+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"main","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T22:59:39.9018706+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up..."}
{"@timestamp":"2025-08-13T22:59:40.1399064+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Router ready"}
{"@timestamp":"2025-08-13T22:59:40.1951741+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Pipeline ready"}
{"@timestamp":"2025-08-13T22:59:40.1982839+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up pipeline... done"}
{"@timestamp":"2025-08-13T22:59:40.2024446+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watching started..."}
{"@timestamp":"2025-08-13T22:59:52.0279779+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T22:59:52.3496559+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:59:52.3506592+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:59:52.439906+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":88,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T22:59:54.3375858+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (1835 ms),bodyLen: {\"status\":\"ignored\",\"reason\":\"unknown_branch\",\"key\":\"61fb15ef-d250-47cb-a3de-10e18153317a\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"61fb15ef-d250-47cb-a3de-10e18153317a","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:00:42.8732038+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T23:00:43.1795393+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T23:00:43.4887527+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:00:43.4887527+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:00:43.4993582+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":10,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:00:43.5384206+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (36 ms),bodyLen: {\"status\":\"error\",\"reason\":\"internal_error\",\"key\":\"661de2cd-6024-435a-b692-74a859d638be\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"661de2cd-6024-435a-b692-74a859d638be","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:03:16.740287+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T23:03:17.0487539+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:03:17.0487539+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:03:17.0590295+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":9,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:03:19.0068786+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (1946 ms),bodyLen: {\"status\":\"ignored\",\"reason\":\"unknown_branch\",\"key\":\"f3f4037c-84b4-4b33-b17e-ce5a398d1bad\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"f3f4037c-84b4-4b33-b17e-ce5a398d1bad","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:03:30.6723357+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T23:03:30.98244+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T23:03:31.2906843+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:03:31.2906843+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:03:31.3000257+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":9,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:03:31.3320606+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (29 ms),bodyLen: {\"status\":\"error\",\"reason\":\"internal_error\",\"key\":\"743f6d5c-ad09-477d-baf1-a88d26a3b3c0\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"743f6d5c-ad09-477d-baf1-a88d26a3b3c0","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:06:06.3165145+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T23:06:06.6291575+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:06:06.6291575+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:06:06.6352356+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":5,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:06:08.4856862+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (1850 ms),bodyLen: {\"status\":\"ignored\",\"reason\":\"unknown_branch\",\"key\":\"ff288fce-b1eb-4996-a051-2a28146570f0\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"ff288fce-b1eb-4996-a051-2a28146570f0","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:06:14.7252061+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T23:06:15.0397744+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T23:06:15.35249+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:06:15.3535579+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:06:15.361763+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":8,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:06:15.3947934+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (31 ms),bodyLen: {\"status\":\"error\",\"reason\":\"internal_error\",\"key\":\"40a45e95-d2b8-4f3c-801e-02dba460a4bc\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"40a45e95-d2b8-4f3c-801e-02dba460a4bc","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:07:24.2884946+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T23:07:24.5987574+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:07:24.5987574+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:07:24.6075218+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":8,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:07:24.6553011+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (46 ms),bodyLen: {\"status\":\"error\",\"reason\":\"internal_error\",\"key\":\"9b3d7c04-9030-41d7-ab70-3c5fa2d644c8\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"9b3d7c04-9030-41d7-ab70-3c5fa2d644c8","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:08:38.0300545+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"shutdown-hook","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T23:08:38.0300545+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watcher closed"}
{"@timestamp":"2025-08-13T23:08:38.0300545+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"main","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T23:08:44.3078738+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up..."}
{"@timestamp":"2025-08-13T23:08:44.5331814+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Router ready"}
{"@timestamp":"2025-08-13T23:08:44.5690915+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Pipeline ready"}
{"@timestamp":"2025-08-13T23:08:44.5711436+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up pipeline... done"}
{"@timestamp":"2025-08-13T23:08:44.5762767+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watching started..."}
{"@timestamp":"2025-08-13T23:08:54.6382827+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T23:08:54.9512006+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:08:54.9512006+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:08:55.0431263+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":91,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:08:55.0646997+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"Envelope[type=GOODS, branchId=1412, nom=NomenclatureIncoming: { \n\toffers: [\n[{code: '238151', name: ',,50', producer: 'Sanofi', supplierCodes: [\n[{id: 'Barcode', code: '1111}\n, {id: 'Barcode', code: '1111}\n, {id: 'Barcode', code: '2222}\n, {id: 'CFC69F90-EF04-4AC4-8380-8687A21B9B78', code: '123213.XX}\n, {id: '96208AED-C7F6-49F6-89D2-2801022063C6', code: '456HJ9}\n, {id: 'Tabletki.ua', code: 'A7875EEE-8569-455E-9F33-0FFAF87AA718}\n, {id: 'Morion', code: '123213}\n]\n]\n}\n, {code: '238153', name: '  50 (105)', producer: '', supplierCodes: [\n[{id: 'Tabletki.ua', code: '4A755C0F-F030-4E69-BDDD-FC9E67191520}\n, {id: 'Barcode', code: '462264646165}\n]\n]\n}\n, {code: '74584', name: '  '. 10', producer: '', supplierCodes: [\n[]\n]\n}\n]\n]\n, suppliers: [\n[Supplier{id='CFC69F90-EF04-4AC4-8380-8687A21B9B78', name='', edrpo='21642228'}, Supplier{id='96208AED-C7F6-49F6-89D2-2801022063C6', name='', edrpo='31816235'}, Supplier{id='Barcode', name='Barcode', edrpo='Barcode'}, Supplier{id='Tabletki.ua', name='Tabletki.ua', edrpo='Tabletki.ua'}, Supplier{id='Morion', name='Morion', edrpo='1234567891'}]\n]\n}, ow=null]","branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:08:55.2560398+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (114 ms),bodyLen: {\"status\":\"error\",\"reason\":\"internal_error\",\"key\":\"89435eb5-8b8b-4477-89c5-7e458b773ed8\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"89435eb5-8b8b-4477-89c5-7e458b773ed8","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:17:03.5786667+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"shutdown-hook","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T23:17:03.5786667+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watcher closed"}
{"@timestamp":"2025-08-13T23:17:03.5801777+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"main","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T23:18:33.4709828+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up..."}
{"@timestamp":"2025-08-13T23:18:33.705105+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Router ready"}
{"@timestamp":"2025-08-13T23:18:33.7427683+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Pipeline ready"}
{"@timestamp":"2025-08-13T23:18:33.7447811+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Starting up pipeline... done"}
{"@timestamp":"2025-08-13T23:18:33.7488668+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watching started..."}
{"@timestamp":"2025-08-13T23:18:49.4196399+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T23:18:49.734093+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:18:49.734093+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:18:49.818925+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":84,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:18:49.8412538+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"Envelope[type=GOODS, branchId=1412, nom=NomenclatureIncoming: { \n\toffers: [\n[{code: '238151', name: ',,50', producer: 'Sanofi', supplierCodes: [\n[{id: 'Barcode', code: '1111}\n, {id: 'Barcode', code: '1111}\n, {id: 'Barcode', code: '2222}\n, {id: 'CFC69F90-EF04-4AC4-8380-8687A21B9B78', code: '123213.XX}\n, {id: '96208AED-C7F6-49F6-89D2-2801022063C6', code: '456HJ9}\n, {id: 'Tabletki.ua', code: 'A7875EEE-8569-455E-9F33-0FFAF87AA718}\n, {id: 'Morion', code: '123213}\n]\n]\n}\n, {code: '238153', name: '  50 (105)', producer: '', supplierCodes: [\n[{id: 'Tabletki.ua', code: '4A755C0F-F030-4E69-BDDD-FC9E67191520}\n, {id: 'Barcode', code: '462264646165}\n]\n]\n}\n, {code: '74584', name: '  '. 10', producer: '', supplierCodes: [\n[]\n]\n}\n]\n]\n, suppliers: [\n[Supplier{id='CFC69F90-EF04-4AC4-8380-8687A21B9B78', name='', edrpo='21642228'}, Supplier{id='96208AED-C7F6-49F6-89D2-2801022063C6', name='', edrpo='31816235'}, Supplier{id='Barcode', name='Barcode', edrpo='Barcode'}, Supplier{id='Tabletki.ua', name='Tabletki.ua', edrpo='Tabletki.ua'}, Supplier{id='Morion', name='Morion', edrpo='1234567891'}]\n]\n}, ow=null]","branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:18:50.0053216+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (105 ms),bodyLen: {\"status\":\"error\",\"reason\":\"internal_error\",\"key\":\"daf72472-4a4c-42e9-b2bf-81e901acc8f6\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"daf72472-4a4c-42e9-b2bf-81e901acc8f6","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:20:33.0063637+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T23:20:33.313784+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:20:33.313784+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:20:33.3201045+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":6,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:20:33.3211145+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"Envelope[type=GOODS, branchId=1412, nom=NomenclatureIncoming: { \n\toffers: [\n[{code: '238151', name: ',,50', producer: 'Sanofi', supplierCodes: [\n[{id: 'Barcode', code: '1111}\n, {id: 'Barcode', code: '1111}\n, {id: 'Barcode', code: '2222}\n, {id: 'CFC69F90-EF04-4AC4-8380-8687A21B9B78', code: '123213.XX}\n, {id: '96208AED-C7F6-49F6-89D2-2801022063C6', code: '456HJ9}\n, {id: 'Tabletki.ua', code: 'A7875EEE-8569-455E-9F33-0FFAF87AA718}\n, {id: 'Morion', code: '123213}\n]\n]\n}\n, {code: '238153', name: '  50 (105)', producer: '', supplierCodes: [\n[{id: 'Tabletki.ua', code: '4A755C0F-F030-4E69-BDDD-FC9E67191520}\n, {id: 'Barcode', code: '462264646165}\n]\n]\n}\n, {code: '74584', name: '  '. 10', producer: '', supplierCodes: [\n[]\n]\n}\n]\n]\n, suppliers: [\n[Supplier{id='CFC69F90-EF04-4AC4-8380-8687A21B9B78', name='', edrpo='21642228'}, Supplier{id='96208AED-C7F6-49F6-89D2-2801022063C6', name='', edrpo='31816235'}, Supplier{id='Barcode', name='Barcode', edrpo='Barcode'}, Supplier{id='Tabletki.ua', name='Tabletki.ua', edrpo='Tabletki.ua'}, Supplier{id='Morion', name='Morion', edrpo='1234567891'}]\n]\n}, ow=null]","branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:20:33.3697058+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (46 ms),bodyLen: {\"status\":\"error\",\"reason\":\"Cannot invoke \\\"com.example.model.scheduler.Auth.getIdCorp()\\\" because the return value of \\\"com.example.service.CacheService.getAuthByUsername(String)\\\" is null\",\"key\":\"30a7ba5c-d8ca-4c04-804e-9c00054ff3fc\",\"branchId\":\"1412\",\"processed\":0}","idemKey":"30a7ba5c-d8ca-4c04-804e-9c00054ff3fc","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:23:23.6554944+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\goods_1412_20250808140005.zip"}
{"@timestamp":"2025-08-13T23:23:23.9695327+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:23:23.9695327+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\goods_1412_20250808140005.zip","file":"goods_1412_20250808140005.zip","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:23:23.9799118+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":10,"branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:23:23.9809286+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"Envelope[type=GOODS, branchId=1412, nom=NomenclatureIncoming: { \n\toffers: [\n[{code: '238151', name: ',,50', producer: 'Sanofi', supplierCodes: [\n[{id: 'Barcode', code: '1111}\n, {id: 'Barcode', code: '1111}\n, {id: 'Barcode', code: '2222}\n, {id: 'CFC69F90-EF04-4AC4-8380-8687A21B9B78', code: '123213.XX}\n, {id: '96208AED-C7F6-49F6-89D2-2801022063C6', code: '456HJ9}\n, {id: 'Tabletki.ua', code: 'A7875EEE-8569-455E-9F33-0FFAF87AA718}\n, {id: 'Morion', code: '123213}\n]\n]\n}\n, {code: '238153', name: '  50 (105)', producer: '', supplierCodes: [\n[{id: 'Tabletki.ua', code: '4A755C0F-F030-4E69-BDDD-FC9E67191520}\n, {id: 'Barcode', code: '462264646165}\n]\n]\n}\n, {code: '74584', name: '  '. 10', producer: '', supplierCodes: [\n[]\n]\n}\n]\n]\n, suppliers: [\n[Supplier{id='CFC69F90-EF04-4AC4-8380-8687A21B9B78', name='', edrpo='21642228'}, Supplier{id='96208AED-C7F6-49F6-89D2-2801022063C6', name='', edrpo='31816235'}, Supplier{id='Barcode', name='Barcode', edrpo='Barcode'}, Supplier{id='Tabletki.ua', name='Tabletki.ua', edrpo='Tabletki.ua'}, Supplier{id='Morion', name='Morion', edrpo='1234567891'}]\n]\n}, ow=null]","branchId":"1412","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:23:24.0450629+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (62 ms),bodyLen: {\"error\":false,\"supplierError\":false,\"IsError\":false,\"OffersCount\":3,\"IsSupplierError\":false,\"SuppliersCount\":100,\"OffersWithSupplierCodesCount\":3}","idemKey":"99c0a5f8-08b0-4a2f-9a6a-738e46fcb690","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/nom","file":"goods_1412_20250808140005.zip","envType":"GOODS","reqId":"goods_1412_20250808140005.zip-1754665583192-872"}
{"@timestamp":"2025-08-13T23:27:44.2789057+03:00","app":"ftp-robot","level":"WARN","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"file not stable yet file=src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip","file":"src\\main\\java\\edu\\my\\service\\ftp\\inbox\\Rest_1412_20250808140045.zip"}
{"@timestamp":"2025-08-13T23:27:44.590763+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.InboxWatcher","thread_name":"main","message":"catch-up submit Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T23:27:44.590763+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing started","locked":"src\\main\\java\\edu\\my\\service\\ftp\\processing\\Rest_1412_20250808140045.zip","file":"Rest_1412_20250808140045.zip","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T23:27:44.6317017+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"zip-worker","message":"processing finished","durationMs":40,"branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T23:27:44.638029+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"Envelope[type=REST, branchId=1412, nom=null, ow={offers:\n[\n[{code: '000017483', name: ' . 7.5  20(102)', producer: '  ', price: 63.8, quantity: 0.5, priceReserve: 52.2, morionId: '108599'}\n, {code: '000017514', name: ' . 0.02 30 (103)', producer: '', price: 220.6, quantity: 1.0, priceReserve: 193.0, morionId: '234799'}\n, {code: '000017515', name: '    ', producer: '', price: 466.0, quantity: 1.0, priceReserve: 390.1, morionId: '190996'}\n]\n]\n}]","branchId":"1412","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T23:27:44.7009202+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.HttpSenderService","thread_name":"dispatch-loop","message":"send ok: 200 (47 ms),bodyLen: {\"status\":\"success\",\"reason\":null,\"key\":\"07367585-ece9-43ed-a369-8668161e2169\",\"branchId\":\"1412\",\"processed\":3}","idemKey":"07367585-ece9-43ed-a369-8668161e2169","branchId":"1412","endpoint":"http://localhost:8082/mapper/v1/api/robot/rests","file":"Rest_1412_20250808140045.zip","envType":"REST","reqId":"Rest_1412_20250808140045.zip-1754665575125-769"}
{"@timestamp":"2025-08-13T23:29:20.8550979+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.Main","thread_name":"main","message":"Watcher closed"}
{"@timestamp":"2025-08-13T23:29:20.8540878+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"shutdown-hook","message":"shutting down pipeline"}
{"@timestamp":"2025-08-13T23:29:20.8550979+03:00","app":"ftp-robot","level":"INFO","logger_name":"edu.my.service.service.PipelineService","thread_name":"main","message":"shutting down pipeline"}
